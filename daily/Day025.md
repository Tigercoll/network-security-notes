---
title: Day025：漏洞扫描与基线 - Web 架构与 HTTP 协议
tags:
  - 网络
  - 安全
  - 学习计划
categories:
  - 网络安全
abbrlink: 9e3f1
date: 2026-02-16
updated: 2026-02-16
---

# Day025：漏洞扫描与基线 - Web 架构与 HTTP 协议

- **日期**：2026-02-16
- **周次**：第 4 周
- **模块**：漏洞扫描与基线
- **主题**：Web 架构与 HTTP 协议
- **预计学习时间**：3 小时

---

## 🎯 学习目标

学完今天你应该能做到：

- **透视网页**：不再只看到漂亮的界面，而是看到背后的请求（Request）和响应（Response）。
- **拦截数据**：熟练使用 Burp Suite 抓包、改包、重放，成为“中间人”。
- **协议精通**：理解 Cookie、Session、Token 的区别，知道状态码 302 和 403 的含义。

<!--more-->

---

## 📚 完整学习内容（必读）

本节包含今天需要学习的全部知识点，请认真阅读并理解。

### 一、概念理解

#### 1.1.1 Web 是怎么工作的？
当你输入 `www.baidu.com` 并回车时，发生了什么？
1.  **浏览器 (Client)**：我要看百度首页（发送 GET 请求）。
2.  **服务器 (Server)**：好的，给你 HTML 代码（返回 200 OK）。
3.  **浏览器**：解析 HTML，画出页面。

**核心特性：无状态 (Stateless)**
HTTP 协议本身记不住你是谁。为了记住你登录了，发明了 **Cookie** 和 **Session**。

#### 1.1.2 身份验证机制
- **Cookie**: 浏览器手里的小票（存本地，包含 SessionID）。
- **Session**: 服务器手里的账本（存内存/数据库，记录 SessionID 对应的用户是谁）。
- **Token (JWT)**: 签名的身份证（服务器不存状态，只验签名）。

### 二、原理讲解

#### 1.2.1 HTTP 报文解剖
一个 HTTP 请求就像一封信，我们必须读懂它的格式。

**请求报文 (Request)**
```http
POST /login.php HTTP/1.1      <-- 请求行 (方法 路径 版本)
Host: www.example.com         <-- 请求头 (Headers)
User-Agent: Mozilla/5.0...
Cookie: session_id=xyz123...  <-- 身份凭证

username=admin&password=123   <-- 请求体 (Body，仅 POST 有)
```

**响应报文 (Response)**
```http
HTTP/1.1 200 OK               <-- 状态行 (版本 状态码 原因)
Server: Nginx
Set-Cookie: user=admin        <-- 响应头 (命令浏览器存 Cookie)

<html>...</html>              <-- 响应体 (网页代码)
```

#### 1.2.2 常见状态码
- **2xx (成功)**：`200 OK` (正常)。
- **3xx (重定向)**：`301` (永久搬家), `302` (临时跳转，如登录成功跳首页)。
- **4xx (客户端错)**：`403 Forbidden` (没权限), `404 Not Found` (没找到)。
- **5xx (服务端错)**：`500 Internal Server Error` (代码崩了), `502 Bad Gateway` (网关挂了)。

### 三、技术细节

#### 1.3.1 Burp Suite 实战（背诵全文！）
Burp Suite 是 Web 安全人员的**御用神器**，它是一个代理服务器，卡在浏览器和服务器中间。
1.  **Proxy (代理)**：拦截 (Intercept) 浏览器发的包，让你修改参数（如把 `price=100` 改成 `price=1`）后再发出去。
2.  **Repeater (重放)**：把一个包修改后反复发送（测试 SQL 注入常用，看报错）。
3.  **Intruder (爆破)**：自动把包里的某个参数替换成字典里的值（爆破密码常用）。

#### 1.3.2 同源策略 (SOP)
浏览器最核心的安全策略。
- **规定**：`a.com` 的网页脚本，不能读取 `b.com` 的数据。
- **例外**：`<script src="...">`, `<img>` 等标签可以跨域加载资源（这也是 CSRF 攻击的根源）。

### 四、进阶知识（选学）

#### 1.4.1 HTTPS 原理
HTTP + TLS = HTTPS。
- **加密**：防窃听（AES）。
- **认证**：防伪装（证书）。
- **完整性**：防篡改（哈希）。
Burp Suite 抓 HTTPS 包需要安装 CA 证书，让浏览器信任 Burp 伪造的证书。

### 五、本日知识点速查表

| 序号 | 核心概念 | 关键点 | 备注 |
|------|----------|--------|------|
| 1 | **Request** | 请求 | 浏览器发给服务器的 |
| 2 | **Response** | 响应 | 服务器回给浏览器的 |
| 3 | **Cookie** | 身份凭证 | 存在浏览器里 |
| 4 | **Session** | 会话信息 | 存在服务器里 |
| 5 | **Burp Suite** | 抓包工具 | 中间人代理 |

---

## 🗺️ 知识图谱

### 今日内容在整体知识体系中的位置

```
网络安全学习路径
├── 第 4 周：漏洞扫描与基线
│   ├── Day024：主动扫描
│   └── Day025：Web 协议与 Burp Suite
│       ├── HTTP 报文结构
│       ├── 状态码与 Cookie
│       └── 工具链：Browser -> Burp -> Server
└── 后续衔接
    └── Day026：Web 漏洞 (SQLi, XSS)
```

### 今日关键词

`HTTP` · `Burp Suite` · `Repeater` · `Cookie` · `302`

---

## 🔧 实践任务（合法授权范围内）

> ⚠️ **安全提示**：请使用 Burp Suite 自带的浏览器，或配置代理抓取自己的流量。

请按顺序完成以下任务：

### 任务 1：Burp Suite 抓包初体验（20 分钟）

**操作步骤**：
1. 启动 Burp Suite Community 版。
2. 点击 **Proxy -> Open Browser**（打开内置浏览器）。
3. 访问 `http://example.com`。
4. 在 Burp 的 **Proxy -> Intercept** 标签页，确保 "Intercept is on"。
5. 刷新网页。你会发现浏览器转圈圈，Burp 里抓到了请求包。
6. 修改 `User-Agent` 字段为 "HackerBrowser"，点击 **Forward**。

**预期结果**：请求成功发送，服务器认为你是 HackerBrowser。

### 任务 2：Repeater 重放攻击（20 分钟）

**操作步骤**：
1. 在 Proxy 历史记录 (HTTP history) 里找到刚才的请求。
2. 右键 -> **Send to Repeater** (Ctrl+R)。
3. 转到 Repeater 标签页。
4. 修改 URL 路径，把 `index.html` 改成 `admin.php`。
5. 点击 **Send**。
6. **观察**：右边的响应包状态码是 200 还是 404？

**预期结果**：学会手动修改请求并查看响应。

### 任务 3：查看 Cookie（10 分钟）

**操作步骤**：
1. 按 F12 打开浏览器开发者工具。
2. 切换到 **Application** (Chrome) 或 **Storage** (Firefox) 标签。
3. 点击左侧的 **Cookies**。
4. **观察**：有没有 `JSESSIONID` 或 `PHPSESSID`？试着修改它的值，刷新页面，看会不会退出登录？

**预期结果**：理解 Cookie 即身份。

---

## 📝 巩固练习（题目与复盘）

### 练习 1：概念理解（5 分钟）

**题目**：为什么登录表单通常用 POST 而不是 GET？

**参考答案**：GET 请求的参数会显示在 URL 栏里，也会被保存在浏览器历史记录和代理服务器日志中，密码极易泄露。POST 参数在 Body 里，相对隐蔽（但 HTTPS 才是加密传输的关键）。

### 练习 2：实操复盘（5 分钟）

**题目**：我在 Burp 里拦截了包，为什么浏览器网页打不开了？

**参考答案**：因为包被你扣住了（Intercept is on）。你必须点 **Forward** 放行，或者关掉 Intercept 才能继续。初学者最容易卡在这里。

---

## ✅ 评估标准（达成判定）

- [ ] 我能说出 HTTP 请求报文的三个组成部分。
- [ ] 我成功用 Burp Suite 拦截并修改了一个数据包。
- [ ] 我知道 404 和 500 的区别。

### 自检清单

- [ ] **概念理解**：能解释为什么 HTTP 是无状态的。
- [ ] **实际应用**：能用 Repeater 发送 10 次不同的请求。
- [ ] **工具使用**：知道怎么配置浏览器代理到 Burp (127.0.0.1:8080)。

### 学习进度自评

| 评估项目 | 1-5 星 | 备注 |
|----------|--------|------|
| 协议理解 | ⭐⭐⭐⭐⭐ | |
| 抓包技能 | ⭐⭐⭐⭐⭐ | |
| 调试能力 | ⭐⭐⭐⭐⭐ | |

---

## 📊 学习成果记录（由学习者填写）

### 学习信息

| 项目 | 内容 |
|------|------|
| 学习日期 | 2026-02-16 |
| 学习时长 | ___ 小时 |
| 完成情况 | ⬜ 已完成 / ⬜ 部分完成 / ⬜ 未完成 |

### 实践任务完成记录

| 任务 | 完成状态 | 关键证据/截图 |
|------|----------|---------------|
| 任务 1 | ⬜ 已完成 | 截图：Burp 拦截的请求包 |
| 任务 2 | ⬜ 已完成 | 截图：Repeater 的响应结果 |
| 任务 3 | ⬜ 已完成 | 截图：浏览器里的 Cookie |

---

## 💡 知识卡片速查

### 常见状态码

| 状态码 | 含义 | 例子 |
|--------|------|------|
| **200** | OK | 网页正常显示 |
| **302** | Found | 登录成功跳转 |
| **403** | Forbidden | 无权访问后台 |
| **404** | Not Found | 文件不存在 |
| **500** | Server Error | 数据库连不上了 |

### Burp 快捷键

| 功能 | 快捷键 |
|------|--------|
| 发送到 Repeater | `Ctrl + R` |
| 发送到 Intruder | `Ctrl + I` |
| 放行请求 (Forward) | `Ctrl + F` (需设置) |

---

## ❓ 常见问题与解答

**Q1：Burp 抓不到 HTTPS 包怎么办？**
A1：需要安装 CA 证书。访问 `http://burp` 下载证书，导入浏览器“受信任的根证书颁发机构”。

**Q2：Proxy 和 Repeater 到底用哪个？**
A2：Proxy 用于**拦截**流程中的某一步（比如支付前改价格）。Repeater 用于**反复测试**同一个接口（比如测试注入点）。平时做渗透 80% 时间在 Repeater。

---

## 🚀 下一步学习预告

**明日主题预告**：Day026 - 常见 Web 漏洞 (1) SQL 注入与 XSS

**学习重点预告**：
- 学习 SQL 注入原理（数据变代码）。
- 学习 XSS 弹窗攻击。
- 掌握防御方法。

**今日学习为明日做铺垫**：
- 今天学会了抓包，明天我们就要修改包里的参数（把 `id=1` 改成 `id=1' or 1=1`），向服务器发起攻击。

---

> 💬 **学习提示**：
> 1. HTTP 协议是 Web 安全的基石，一定要看懂报文格式。
> 2. Burp Suite 是吃饭的家伙，务必练熟。
> 3. 遇到看不懂的包，多问问“这是谁发给谁的？想干什么？”

```bash
git add daily/Day025.md
git commit -m "Day025: 完成学习与记录"
```
