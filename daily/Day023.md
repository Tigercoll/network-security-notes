---
title: Day023：漏洞扫描与基线 - 信息搜集（主动与被动）
tags:
  - 网络
  - 安全
  - 学习计划
categories:
  - 网络安全
abbrlink: 7f8b1
date: 2026-02-14
updated: 2026-02-14
---

# Day023：漏洞扫描与基线 - 信息搜集（主动与被动）

- **日期**：2026-02-14
- **周次**：第 4 周
- **模块**：漏洞扫描与基线
- **主题**：信息搜集（主动与被动）
- **预计学习时间**：2.5 小时

---

## 🎯 学习目标

学完今天你应该能做到：

- **隐身侦察**：在不接触目标服务器的情况下，画出它的网络资产地图（OSINT）。
- **主动出击**：使用 DNS 工具挖掘子域名，找到被人遗忘的测试站点。
- **搜索引擎黑客**：用 Google Dorks 找到敏感文件和后台入口。

<!--more-->

---

## 📚 完整学习内容（必读）

本节包含今天需要学习的全部知识点，请认真阅读并理解。

### 一、概念理解

#### 1.1.1 什么是信息搜集？(Reconnaissance)
信息搜集是渗透测试的第一步，也是最重要的一步。你对目标了解得越多（IP、域名、邮箱、技术栈），发现漏洞的概率就越大。**70% 的渗透测试时间都花在了这里。**

#### 1.1.2 主动 vs 被动
- **被动搜集 (Passive)**：
  - **特点**：**不直接与目标服务器交互**。
  - **手段**：Google 搜索、Whois 查询、Shodan 搜索、天眼查。
  - **优点**：目标无法察觉，完全隐身，不会触发防火墙报警。
- **主动搜集 (Active)**：
  - **特点**：**直接与目标通信**。
  - **手段**：Ping, Traceroute, Nmap 扫描, DNS 区域传输。
  - **缺点**：会在对方日志中留下 IP 痕迹，容易被封禁或被蓝队发现。

### 二、原理讲解

#### 1.2.1 为什么要找子域名？
一个主域名（如 `baidu.com`）通常防御森严，有各种 WAF 和监控。但它的子域名（如 `dev.baidu.com` 或 `vpn.baidu.com`）往往是软肋：
- **测试环境**：代码可能满是 Bug。
- **老旧系统**：可能还在用 5 年前的框架，有已知漏洞。
- **内部工具**：可能为了方便，没加复杂的验证码。

#### 1.2.2 Google Hacking 原理
搜索引擎爬虫（Spider）会抓取互联网上的一切。如果管理员不小心把密码文件、后台入口、备份压缩包放到了 Web 目录下，爬虫就会抓取并在搜索结果中展示。我们只需要用特定的语法（Dorks）把它们搜出来。

### 三、技术细节

#### 1.3.1 Google Dorks (搜索语法)
- `site:example.com`：只看这个网站的内容。
- `filetype:pdf`：只找 PDF 文件（找合同、文档）。
- `filetype:xls`：找 Excel 表格（找员工名单、工资表）。
- `inurl:admin`：网址里包含 admin（找后台）。
- `intitle:"index of"`：寻找目录遍历漏洞（即服务器直接列出了文件列表）。

**组合拳**：`site:edu.cn filetype:xls 身份证`（查找泄露身份证信息的 Excel 表格，**仅限合法授权测试**）。

#### 1.3.2 DNS 挖掘
- **Dig/Nslookup**: 基础查询。
- **DNSDumpster**: 在线查询子域名。
- **子域名爆破**: 使用工具（如 `OneForAll`, `Subfinder`）配合字典，猜解 `www`, `mail`, `dev`, `test` 等常见前缀。

#### 1.3.3 资产指纹 (Fingerprinting)
- **Wappalyzer**: 浏览器插件，一眼看出网站是用什么写的（PHP? Java? Nginx?）。
- **Shodan**: 物联网搜索引擎，能搜到开放的摄像头、工控设备、未授权的数据库（MongoDB, Redis）。

### 四、进阶知识（选学）

#### 1.4.1 CDN 绕过
很多大网站用了 CDN（内容分发网络）来加速和防御。你 Ping 到的 IP 是 CDN 的节点，不是真实服务器。
**找真实 IP 的方法**：
- **多地 Ping**：如果各地 IP 不同，说明有 CDN。
- **查历史 DNS**：CDN 部署之前的记录（微步在线、VirusTotal）。
- **查子域名**：有些子域名可能直连主站。
- **邮件头**：注册个账号让对方发邮件，邮件头里可能有真实 IP。

### 五、本日知识点速查表

| 序号 | 核心概念 | 关键点 | 备注 |
|------|----------|--------|------|
| 1 | **OSINT** | 开源网络情报 | 利用公开信息搜集情报 |
| 2 | **Google Dork** | 高级搜索语法 | 找后台、找敏感文件 |
| 3 | **Whois** | 域名注册信息 | 找管理员邮箱 |
| 4 | **Subdomain** | 子域名 | 攻击面的主要来源 |
| 5 | **CDN** | 内容分发网络 | 隐藏真实 IP |

---

## 🗺️ 知识图谱

### 今日内容在整体知识体系中的位置

```
网络安全学习路径
├── 第 4 周：漏洞扫描与基线
│   ├── Day022：漏洞类型 (CVE)
│   └── Day023：信息搜集
│       ├── 被动：Google, Whois, Shodan
│       ├── 主动：DNS, Port Scan (Next Day)
│       └── 目标：找到攻击面 (IP, 域名, 邮箱)
└── 后续衔接
    └── Day024：主动扫描工具 (Nmap/Nessus)
```

### 今日关键词

`OSINT` · `Google Hacking` · `Subdomain` · `Shodan`

---

## 🔧 实践任务（合法授权范围内）

> ⚠️ **安全提示**：所有任务仅限查询公开信息，禁止对任何系统进行未经授权的测试。

请按顺序完成以下任务：

### 任务 1：Google Hacking 初体验（15 分钟）

**操作步骤**：
1. 打开 Google 或 Bing。
2. 搜索 `inurl:login.php`。你会看到无数个网站的登录页面。
3. 搜索 `site:github.com password`。你会发现很多人不小心把密码传到了代码库里。
4. **注意**：只看不动，不要尝试登录，否则违法。

**预期结果**：理解搜索引擎如何暴露敏感信息。

### 任务 2：挖掘子域名（20 分钟）

**操作步骤**：
1. 选一个你感兴趣的大厂域名（如 `tesla.com`）。
2. 使用在线工具 [DNSDumpster](https://dnsdumpster.com/)。
3. 输入域名，点击 Search。
4. **观察**：你能找到 `vpn`, `test`, `dev`, `mail` 等开头的子域名吗？这些通常是高价值目标。

**预期结果**：获得一张目标域名的网络资产地图。

### 任务 3：技术栈识别（10 分钟）

**操作步骤**：
1. 给你的浏览器安装 **Wappalyzer** 插件。
2. 访问任意网站（如 Bilibili, Github）。
3. 点击插件图标，查看它用了什么技术：
   - 操作系统（Linux/Windows）
   - Web 服务器（Nginx/Apache/IIS）
   - 编程语言（PHP/Java/Python）
   - 框架（Vue/React/Spring）

**预期结果**：了解目标网站的“配方”。

---

## 📝 巩固练习（题目与复盘）

### 练习 1：概念理解（5 分钟）

**题目**：为什么说“Shodan 是黑暗版 Google”？

**参考答案**：Google 爬取的是网页内容（给人看的），Shodan 爬取的是设备端口横幅 Banner（给机器看的）。你可以在 Shodan 上搜到“默认密码的摄像头”或“未授权访问的数据库”。

### 练习 2：实操复盘（5 分钟）

**题目**：在进行子域名爆破时，泛解析（Wildcard DNS）会带来什么问题？

**参考答案**：泛解析意味着无论你输入什么乱七八糟的子域名（如 `sjdhfjs.example.com`），DNS 都会解析到同一个 IP。这会导致爆破工具误报，认为所有子域名都存在。解决方法是先检测是否存在泛解析，如果有，则过滤掉解析到该 IP 的结果。

---

## ✅ 评估标准（达成判定）

- [ ] 我会用 `site:` 和 `filetype:` 组合搜索。
- [ ] 我知道怎么查域名的 Whois 信息。
- [ ] 我理解什么是被动搜集，以及它为什么隐蔽。

### 自检清单

- [ ] **概念理解**：能区分主动和被动搜集。
- [ ] **实际应用**：能用 Google 找到特定网站的 PDF 文档。
- [ ] **安全意识**：知道不要把密码上传到 Github。

### 学习进度自评

| 评估项目 | 1-5 星 | 备注 |
|----------|--------|------|
| 搜索技巧 | ⭐⭐⭐⭐⭐ | |
| 工具使用 | ⭐⭐⭐⭐⭐ | |
| 隐身意识 | ⭐⭐⭐⭐⭐ | |

---

## 📊 学习成果记录（由学习者填写）

### 学习信息

| 项目 | 内容 |
|------|------|
| 学习日期 | 2026-02-14 |
| 学习时长 | ___ 小时 |
| 完成情况 | ⬜ 已完成 / ⬜ 部分完成 / ⬜ 未完成 |

### 实践任务完成记录

| 任务 | 完成状态 | 关键证据/截图 |
|------|----------|---------------|
| 任务 1 | ⬜ 已完成 | 截图：Google 搜索结果 |
| 任务 2 | ⬜ 已完成 | 截图：DNSDumpster 结果图 |
| 任务 3 | ⬜ 已完成 | 记录：某网站的技术栈列表 |

---

## 💡 知识卡片速查

### 常用 Google Dorks

| 语法 | 作用 | 示例 |
|------|------|------|
| `site:` | 限定域名 | `site:baidu.com` |
| `inurl:` | URL 中包含 | `inurl:login` |
| `intitle:` | 标题中包含 | `intitle:"index of"` |
| `filetype:` | 限定文件类型 | `filetype:pdf` |

### 常用工具速查

| 工具 | 用途 |
|------|------|
| **Dig/Nslookup** | 查 DNS 记录 |
| **Whois** | 查域名注册人 |
| **Shodan** | 搜联网设备 |
| **Wappalyzer** | 查网站技术栈 |

---

## ❓ 常见问题与解答

**Q1：Whois 查到的都是隐私保护（Redacted），还有用吗？**
A1：确实，现在的域名大多开启了隐私保护。但有时候可以通过“历史 Whois”查询（需要付费服务），找到域名几年前刚注册时留下的真实邮箱。

**Q2：Shodan 搜索是违法的吗？**
A2：Shodan 只是展示公开可访问的信息，搜索本身不违法。但如果你尝试登录、破坏搜到的设备（比如连那个默认密码的摄像头），那就是违法。

---

## 🚀 下一步学习预告

**明日主题预告**：Day024 - 主动扫描工具实战 (Nmap/Nessus)

**学习重点预告**：
- 使用 Nmap 扫描端口。
- 使用 Nessus 自动发现漏洞。
- 解读扫描报告。

**今日学习为明日做铺垫**：
- 今天我们找到了目标的 IP 和域名（在哪儿），明天我们要去敲它的门（看开了哪些端口，有什么漏洞）。

---

> 💬 **学习提示**：
> 1. Google Hacking 是一种艺术，多尝试不同的组合。
> 2. 信息搜集要细心，有时候一个不起眼的子域名就是突破口。
> 3. 始终牢记法律红线，只对授权目标或公共靶场进行深度探测。

```bash
git add daily/Day023.md
git commit -m "Day023: 完成学习与记录"
```
